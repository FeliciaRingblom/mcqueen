<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report9" pageWidth="595" pageHeight="842" orientation="Portrait" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<style name="Arial_Normal" isDefault="true" fontName="Arial" fontSize="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="Arial_Bold" isDefault="false" fontName="Arial" fontSize="8" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<parameter name="groupLeft" class="java.lang.String">
		<defaultValueExpression><![CDATA["    "]]></defaultValueExpression>
	</parameter>
	<parameter name="groupRight" class="java.lang.String">
		<defaultValueExpression><![CDATA["     "]]></defaultValueExpression>
	</parameter>
<!-- 	<queryString language="xPath">
		<![CDATA[report/data]]>
	</queryString>
	<field name="assessmentId" class="java.lang.Integer">
		<fieldDescription><![CDATA[id]]></fieldDescription>
	</field>
	<field name="gender" class="java.lang.String">
		<fieldDescription><![CDATA[gender]]></fieldDescription>
	</field>
	<field name="age" class="java.lang.Integer">
		<fieldDescription><![CDATA[age]]></fieldDescription>
	</field>
	<field name="caseId" class="java.lang.Integer">
		<fieldDescription><![CDATA[caseNumber]]></fieldDescription>
	</field> -->
	<!-- här -->
	<queryString language="xPath">
		<![CDATA[report/reactionMeasurement]]>
	</queryString>
	<field name="reactionGroup" class="java.lang.String">
		<fieldDescription><![CDATA[reactionGroup]]></fieldDescription>
	</field>
	<field name="reactionResult" class="java.lang.Integer">
		<fieldDescription><![CDATA[reactionResult]]></fieldDescription>
	</field>
	<field name="reactionTime" class="java.lang.Integer">
		<fieldDescription><![CDATA[reactionTime]]></fieldDescription>
	</field>
	<field name="absoluteTime" class="java.lang.Long">
		<fieldDescription><![CDATA[absoluteTime]]></fieldDescription>
	</field>
	<field name="experimentTime" class="java.lang.Long">
		<fieldDescription><![CDATA[experimentTime]]></fieldDescription>
	</field>
	<field name="reactionID" class="java.lang.Long">
		<fieldDescription><![CDATA[reactionID]]></fieldDescription>
	</field>
	<variable name="startTime" class="java.lang.Long" calculation="Lowest">
		<variableExpression><![CDATA[$F{absoluteTime}]]></variableExpression>
	</variable>
	<variable name="endTime" class="java.lang.Long" calculation="Highest">
		<variableExpression><![CDATA[$F{absoluteTime}]]></variableExpression>
	</variable>
	<variable name="highestReactionTime" class="java.lang.Integer" calculation="Highest">
		<variableExpression><![CDATA[(($F{reactionResult} > 0 || $F{reactionResult} < -1) ? $F{reactionTime} : 1000)]]></variableExpression>
	</variable>
	
	<variable name="missedReaction" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[($F{reactionResult} < 0 ? 1 : 0)]]></variableExpression>
	</variable>
	<variable name="amountReactions" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[($F{reactionResult})]]></variableExpression>
	</variable>
	<variable name="experimentDuration" class="java.lang.Long" calculation="Highest">
		<variableExpression><![CDATA[$F{experimentTime}]]></variableExpression>
	</variable>
	<variable name="lowestReactionTime" class="java.lang.Integer" calculation="Lowest">
		<variableExpression><![CDATA[(($F{reactionResult} < 0 && $F{reactionResult} > -2) ? -$F{reactionTime} : 0)]]></variableExpression>
	</variable>
	<title>
		<band height="100">
			<staticText>
				<reportElement x="0" y="40" width="375" height="50" style="Arial_Bold"/>
				<textElement textAlignment="Left">
					<font size="24"/>
				</textElement>
				<text><![CDATA[Test Resultat]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="98" width="555" height="1"/>
				<graphicElement/>
			</line>
		</band>
	</title>
	<pageHeader>
		<band height="100">
			<staticText>
				<reportElement x="0" y="0" width="200" height="14" style="Arial_Normal"/>
				<textElement textAlignment="Left">
					<font size="12"/>
				</textElement>
				<text><![CDATA[löpnummer]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="15" width="200" height="14" style="Arial_Normal"/>
				<textElement textAlignment="Left">
					<font size="12"/>
				</textElement>
				<text><![CDATA[ålder]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="30" width="200" height="14" style="Arial_Normal"/>
				<textElement textAlignment="Left">
					<font size="12"/>
				</textElement>
				<text><![CDATA[kön]]></text>
			</staticText>
			<staticText>
				<reportElement x="210" y="5" width="100" height="30" style="Arial_Bold"/>
				<textElement textAlignment="Right">
					<font size="24"/>
				</textElement>
				<text><![CDATA[8.0]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="90" width="555" height="1"/>
				<graphicElement>
					<pen lineWidth="1"/>
				</graphicElement>
			</line>
		</band>
	</pageHeader>
	<detail>
		<band splitType="Stretch"/>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="500">
			<staticText>
				<reportElement x="0" y="0" width="300" height="30" style="Arial_Bold"/>
				<textElement textAlignment="Left">
					<font size="18"/>
				</textElement>
				<text><![CDATA[Sammanfattning]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="25" width="300" height="30" style="Arial_Normal"/>
				<textElement textAlignment="Left">
					<font size="12"/>
				</textElement>
				<text><![CDATA[Antal Stimuli: ]]></text>
			</staticText>
 			<textField isBlankWhenNull="true">
				<reportElement x="75" y="25" width="515" height="30"/>
				<textElement textAlignment="Left">
        			<font size="12"/>
    			</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{amountReactions}]]></textFieldExpression>
			</textField> 
			<staticText>
				<reportElement x="0" y="38" width="300" height="30" style="Arial_Normal"/>
				<textElement textAlignment="Left">
					<font size="12"/>
				</textElement>
				<text><![CDATA[Missad: ]]></text>
			</staticText>
 			<textField isBlankWhenNull="true">
				<reportElement x="50" y="38" width="515" height="30"/>
				<textElement textAlignment="Left">
        			<font size="12"/>
    			</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{missedReaction}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="200" width="555" height="1"/>
				<graphicElement>
					<pen lineWidth="1"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement x="0" y="210" width="300" height="30" style="Arial_Bold"/>
				<textElement textAlignment="Left">
					<font size="18"/>
				</textElement>
				<text><![CDATA[Del 1]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="240" width="300" height="30" style="Arial_Normal"/>
				<textElement textAlignment="Left">
					<font size="12"/>
				</textElement>
				<text><![CDATA[Reaktionsförmåga]]></text>
			</staticText>
			<staticText>
				<reportElement x="310" y="240" width="300" height="30" style="Arial_Normal"/>
				<textElement textAlignment="Left">
					<font size="12"/>
				</textElement>
				<text><![CDATA[Vinglighet]]></text>
			</staticText>
<!-- 			<textField isBlankWhenNull="true">
				<reportElement x="0" y="10" width="515" height="30"/>
				<textElement textAlignment="Center">
        			<font size="22"/>
    			</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{reactionGroup}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="199" width="555" height="1"/>
				<graphicElement/>
			</line> -->

		<xyBarChart>
			<chart isShowLegend="false">
				<reportElement mode="Transparent" x="0" y="260" width="250" height="100"/>
				<box leftPadding="0"/>
				<chartTitle/>
				<chartSubtitle/>

				<!-- <chartLegend/> -->
			</chart>
			<xyDataset>
				<xySeries>
					<seriesExpression><![CDATA[$P{groupLeft}]]></seriesExpression>
					<xValueExpression><![CDATA[$F{reactionID}]]></xValueExpression>		
					<yValueExpression><![CDATA[$F{reactionGroup}.equals($P{groupLeft}) ?
						(
						    (($F{reactionResult} < 0) ? -10000 : -$F{reactionTime})
						):0]]>
					</yValueExpression>
					<labelExpression><![CDATA[""]]></labelExpression>
				</xySeries>
				<xySeries>
					<seriesExpression><![CDATA[$P{groupRight}]]></seriesExpression>	
					<xValueExpression><![CDATA[$F{reactionID}]]></xValueExpression>	
					<yValueExpression><![CDATA[$F{reactionGroup}.equals($P{groupRight}) ?
						(
						    (($F{reactionResult} < 0) ? 10000 : $F{reactionTime})	
						):0]]>
					</yValueExpression>
					<labelExpression><![CDATA[""]]></labelExpression>
				</xySeries>
			</xyDataset>
			<barPlot isShowLabels="false" isShowTickLabels="false" isShowTickMarks="false">
				<plot orientation="Horizontal">
					<seriesColor seriesOrder="0" color="#1B7BA7"/>
					<seriesColor seriesOrder="1" color="#2F4D5A"/>
				</plot>
				<itemLabel>
					<font size="8" isUnderline="false"/>
				</itemLabel>
				<categoryAxisFormat>
					<axisFormat labelColor="#FFFFFF" verticalTickLabels="false"/>
				</categoryAxisFormat>

				<domainAxisMinValueExpression><![CDATA[-0.5]]></domainAxisMinValueExpression>
				<domainAxisMaxValueExpression><![CDATA[10.5]]></domainAxisMaxValueExpression>
				<rangeAxisMinValueExpression><![CDATA[-5000]]></rangeAxisMinValueExpression>
				<rangeAxisMaxValueExpression><![CDATA[5000]]></rangeAxisMaxValueExpression>
			</barPlot>
		</xyBarChart>
	</band>
</summary>

</jasperReport>
